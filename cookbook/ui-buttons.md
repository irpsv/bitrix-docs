# Кнопки в публичной части

Для добавления кнопок (tooltip) в объекты сайта, можно использовать методы:
- `CBitrixComponentTemplate::AddEditAction`
- `CBitrixComponentTemplate::AddDeleteAction`

По итогу, все эти методы сводятся к вызову метода:
- `CBitrixComponent::addEditButton`

Который в свою очередь скатывается к методу:
- `CMain::SetEditArea`

Также, необходимо разметить элемент соответствующим идентификатором (если добавлять через `CBitrixComponent` или `CBitrixComponentTemplate`), чтобы UI понимал к чему относиться кнопка.
Получить нужный ID можно методом:
- `CBitrixComponentTemplate::GetEditAreaId`

## Добавление произвольной кнопки (CMain)

```php
$tooltipHtmlId = "uniqe-id-".uniqid();
$APPLICATION->setEditArea($tooltipHtmlId, [
	[
		'URL' => 'https://yandex.ru',
		'ICON' => 'bx-context-toolbar-edit-icon', // CSS класс иконки
		'TITLE' => 'Кнопка с иконкой',
	],
	[
		'URL' => 'javascript:'.$APPLICATION->getPopupLink([
			'URL' => '/index.php',
			'PARAMS' => [
				'width' => '640',
				'height' => '480',
			],
		]),
		'SRC' => 'URL картинки',
		'TITLE' => 'Кнопка с картинкой и всплывающий окном',
	],
]);
```

## Добавление кнопки на редактирование элемента инфоблока (CBitrixComponentTemplate)

Для инфоблоков есть метод, который автоматически формирует нужные ссылки и параметры.
Код ниже будет выполнятся в шаблоне компонента (т.е. `$this` указывается на `CBitrixComponentTemplate`):

```php
$id = $element['ID'];
$buttons = \CIBlock::GetPanelButtons(
	$element['IBLOCK_ID'],
	$element['ID'],
	$element['IBLOCK_SECTION_ID']
);
$buttons = $buttons['edit'];

$tooltipHtmlId = $this->GetEditAreaId($id);
$this->AddEditAction(
	$id,
	$buttons['edit_element']['ACTION_URL'],
	$buttons['edit_element']['TITLE']
);
$this->AddDeleteAction(
	$id,
	$buttons['delete_element']['ACTION_URL'],
	$buttons['delete_element']['TITLE']
);
```
 
## Разметка блока

После получения идентификатора блока методамом `CBitrixComponentTemplate::getEditAreaId` (или вручную сгенерированным), нужно разметить в HTML нужный блок.
Делается это простым присваиванием атрибута `id`:
```html
<div id="<?= $tooltipHtmlId ?>">
	...код...
</div>
```
